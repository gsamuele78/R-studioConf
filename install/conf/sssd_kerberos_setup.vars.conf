#!/bin/bash
# conf/sssd_kerberos_setup.vars.conf
# Configuration variables for the sssd_kerberos_setup.sh script.
# This file is sourced by the main script to provide default values for prompts
# and to configure its behavior. Edit these values to match your environment.

## -----------------------------------------------------------------------------
## Domain and Kerberos Settings
## -----------------------------------------------------------------------------
# The lowercase name of your Active Directory domain.
DEFAULT_AD_DOMAIN_LOWER="personale.dir.unibo.it"

# The uppercase Kerberos Realm name. This is typically the uppercase version of the domain.
DEFAULT_AD_DOMAIN_UPPER="PERSONALE.DIR.UNIBO.IT"

# An EXAMPLE of a User Principal Name (UPN) for an AD administrator account that has
# permissions to join computers to the domain. This is used in prompts to guide the user.
DEFAULT_AD_ADMIN_USER_EXAMPLE="gianfranco.samuele2@PERSONALE.DIR.UNIBO.IT"

## -----------------------------------------------------------------------------
## Computer Object Settings in Active Directory
## -----------------------------------------------------------------------------
# The base Distinguished Name (DN) of the Organizational Unit (OU) where the
# computer object for this machine will be created in Active Directory.
# The script will prepend the customizable part to this base.
DEFAULT_COMPUTER_OU_BASE="OU=Servizi_Informatici,OU=Dip-BIGEA,OU=Dsa.Auto"

# The customizable part of the OU. This will be prepended to the base OU.
# For example, resulting in: OU=ServerFarm_Navile,OU=Servizi_Informatici,...
DEFAULT_COMPUTER_OU_CUSTOM_PART="OU=ServerFarm_Navile"

# The string to set for the 'OperatingSystem' attribute of the computer object in AD.
DEFAULT_OS_NAME="Linux Server"

## -----------------------------------------------------------------------------
## SSSD Behavior and User Mapping
## -----------------------------------------------------------------------------
# The template for creating home directories for AD users on their first login.
# %u = username (shortname)
# %d = domain name (lowercase)
# Example: /home/PERSONALE/%u will result in /home/PERSONALE/gianfranco.samuele2
DEFAULT_FALLBACK_HOMEDIR_TEMPLATE="/home/PERSONALE/%u"

# Determines how users log in.
# "false" (Recommended for simplicity): Users log in with their shortname (e.g., 'gianfranco.samuele2').
# "true": Users must log in with their full User Principal Name (e.g., 'gianfranco.samuele2@personale.dir.unibo.it').
DEFAULT_USE_FQNS="false"

# A comma-separated list of Active Directory group names. If set, only members
# of these groups will be allowed to log in to the system via SSSD.
# Leave empty ("") to allow all authenticated domain users (subject to other PAM restrictions).
DEFAULT_SIMPLE_ALLOW_GROUPS="STR968-Informatica,Str00968-biome,Str00968-lifewatch"

# GPO (Group Policy Object) mapping for services. This allows AD GPOs to control
# access to specific services on the Linux host. For Posit/RStudio integration,
# this is often set to "+rstudio". Leave empty ("") to disable.
DEFAULT_AD_GPO_MAP_SERVICE="+rstudio"

## -----------------------------------------------------------------------------
## Time Synchronization (NTP) Settings
## -----------------------------------------------------------------------------
# The preferred NTP client to install and configure.
# Options: "chrony" (recommended), "ntp", "systemd-timesyncd"
NTP_PREFERRED_CLIENT="chrony"

# A list of public NTP servers to use as a fallback if AD domain controllers
# cannot be discovered or are unreachable. This is a bash array.
# The format should be compatible with the 'server' or 'pool' lines in chrony.conf or ntp.conf.
DEFAULT_NTP_FALLBACK_POOLS_CHRONY_NTP=(
    "pool 2.debian.pool.ntp.org iburst"
)

# A space-separated string of public NTP servers for systemd-timesyncd's FallbackNTP setting.
DEFAULT_NTP_FALLBACK_POOLS_SYSTEMD="0.debian.pool.ntp.org 1.debian.pool.ntp.org 2.debian.pool.ntp.org 3.debian.pool.ntp.org"
